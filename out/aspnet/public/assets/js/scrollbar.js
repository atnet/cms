/* 警告:此文件由系统自动生成,请勿修改,因为可能导致您的更改丢失! */
//
//文件：滚动条插件
//版本: 1.0
//时间：2011-10-01
//
var JS_scrollbar = { $: window.j6, pnode: null, ele: null, startP: { x: 0, y: 0 }, moveP: { x: 0, y: 0, z: -1 }, slideBar: null, init: function (e) { this.ele = e.nodeName ? e : document.getElementById(e); this.pnode = document.createElement('DIV'); this.slideBar = null; this.timer = null; var a = this.ele.parentNode; a.insertBefore(this.pnode, this.ele); this.pnode.appendChild(this.ele); this.pnode.className = 'scrollbar'; this.pnode.style.cssText += 'height:' + this.ele.clientHeight + 'px;overflow:hidden;position:relative'; this.ele.style.height = 'auto'; this.ele.style.position = 'absolute'; this.showbar(); return this }, showbar: function () { var c = this.pnode.clientHeight / this.ele.scrollHeight; var d = document.createElement('DIV'); var f = 0; d.className = 'bar'; d.style.cssText = 'position:absolute;right:0;top:0;height:' + this.pnode.clientHeight + 'px'; this.pnode.appendChild(d); var g = document.createElement('DIV'); g.className = 'btn'; g.innerHTML = '<div class="top"></div><div class="center"></div><div class="bottom"></div>'; g.style.cssText = 'height:' + Math.round(c * d.clientHeight) + 'px;'; d.appendChild(g); if (this.$.style(g)['backgroundImage'] == 'none' && this.$.style(g)['backgroundColor'] == 'transparent') { g.style.backgroundColor = '#a0a0a0' } if (!/^(?!0)\d+px$/.test(this.$.style(d)['width'])) { d.style.width = '12px'; d.style.backgroundColor = '#f5f5f5' } this.pnode.style.width = (this.ele.offsetWidth + d.offsetWidth) + 'px'; this.sliderBar = g; var t = this; var h; var i = function (a) { t.$.event.remove(document.body, 'mousemove', h) }; this.$.event.add(g, 'mousedown', function () { var e = window.event || arguments[0]; var b = e.clientY - g.offsetTop; h = function () { var a = (window.event || arguments[0]).clientY - b; t.scroll(a); window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty() }; t.$.event.add(document.body, 'mousemove', h) }); document.body.onmouseup = i }, scroll: function (a) { var b = this.sliderBar.parentNode.offsetHeight - this.sliderBar.offsetHeight; if (a < 0) a = 0; if (a > b) a = b; var c = a / b; this.sliderBar.style.marginTop = a + 'px'; this.ele.style.top = -Math.round((this.ele.offsetHeight - this.pnode.offsetHeight) * c + 1) + 'px' } }; jr.extend({ scrollbar: function (e) { return JS_scrollbar.init(e) } }); jr.event.add(window, 'load', function () { jr.each(document.getElementsByClassName('ui-scrollbar'), function (i, e) { JS_scrollbar.init(e) }) });
